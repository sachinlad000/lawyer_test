---
/**
 * Contact Page
 * ============
 * Contact form with Google Maps and multiple contact methods.
 *
 * CLIENT EDITABLE: Update contact information and form settings.
 */

import Layout from "../layouts/Layout.astro";
import { MapPin, Phone, Mail, Clock, MessageCircle, Send } from "@lucide/astro";

// CLIENT EDITABLE: Contact information
const contact = {
  phone: "+91-XXXXXXXXXX",
  whatsapp: "91XXXXXXXXXX",
  email: "contact@yourdomain.com",
  address: {
    line1: "123, Law Chambers",
    line2: "High Court Road",
    city: "Your City",
    state: "Your State",
    pincode: "400001",
  },
  hours: {
    weekdays: "Monday - Friday: 9:00 AM - 7:00 PM",
    saturday: "Saturday: 10:00 AM - 4:00 PM",
    sunday: "Sunday: By Appointment Only",
  },
  // Replace with actual embed URL from Google Maps
  mapEmbed:
    "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3771.123456789!2d72.8777!3d19.0760!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTnCsDA0JzM0LjAiTiA3MsKwNTInMzkuOCJF!5e0!3m2!1sen!2sin!4v1234567890",
};

const caseTypes = [
  "Civil Matter",
  "Criminal Matter",
  "Corporate/Business",
  "Family Law",
  "Property Dispute",
  "Consumer Complaint",
  "Cyber Crime",
  "Other",
];

// Schema
const contactSchema = {
  "@context": "https://schema.org",
  "@type": "ContactPage",
  name: "Contact Advocate Sharma & Associates",
  description: "Get in touch for legal consultation",
  mainEntity: {
    "@type": "LegalService",
    name: "Advocate Sharma & Associates",
    telephone: contact.phone,
    email: contact.email,
    address: {
      "@type": "PostalAddress",
      streetAddress: `${contact.address.line1}, ${contact.address.line2}`,
      addressLocality: contact.address.city,
      addressRegion: contact.address.state,
      postalCode: contact.address.pincode,
      addressCountry: "IN",
    },
  },
};

const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  itemListElement: [
    {
      "@type": "ListItem",
      position: 1,
      name: "Home",
      item: "https://yourdomain.com",
    },
    {
      "@type": "ListItem",
      position: 2,
      name: "Contact",
      item: "https://yourdomain.com/contact",
    },
  ],
};
---

<Layout
  title="Contact Us"
  description="Contact Advocate Sharma for legal consultation. Call, WhatsApp, or visit our office. Free initial consultation available."
  keywords="contact lawyer, legal consultation, advocate phone number, law office address"
>
  <Fragment slot="head">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(contactSchema)}
    />
    <script
      type="application/ld+json"
      set:html={JSON.stringify(breadcrumbSchema)}
    />
  </Fragment>

  <!-- Page Header -->
  <section class="page-header">
    <div class="container">
      <nav class="breadcrumb">
        <a href="/">Home</a>
        <span>/</span>
        <span>Contact</span>
      </nav>
      <h1 class="page-title">Contact Us</h1>
      <p class="page-subtitle">Get in touch for a free initial consultation</p>
    </div>
  </section>

  <!-- Contact Content -->
  <section class="contact-section section-padding">
    <div class="container">
      <div class="contact-grid">
        <!-- Contact Info -->
        <div class="contact-info" data-animate="animate-slide-in-left">
          <h2 class="info-title">Get In Touch</h2>
          <p class="info-description">
            Have a legal question? Need representation? We're here to help.
            Reach out through any of the following methods or fill out the form.
          </p>

          <div class="contact-methods">
            <a
              href={`tel:${contact.phone.replace(/[^0-9+]/g, "")}`}
              class="contact-method"
            >
              <div class="method-icon">
                <Phone size={24} />
              </div>
              <div class="method-content">
                <span class="method-label">Call Us</span>
                <span class="method-value">{contact.phone}</span>
              </div>
            </a>

            <a
              href={`https://wa.me/${contact.whatsapp}?text=Hello, I would like to inquire about legal consultation.`}
              target="_blank"
              rel="noopener noreferrer"
              class="contact-method whatsapp"
            >
              <div class="method-icon">
                <MessageCircle size={24} />
              </div>
              <div class="method-content">
                <span class="method-label">WhatsApp</span>
                <span class="method-value">Chat with us</span>
              </div>
            </a>

            <a href={`mailto:${contact.email}`} class="contact-method">
              <div class="method-icon">
                <Mail size={24} />
              </div>
              <div class="method-content">
                <span class="method-label">Email Us</span>
                <span class="method-value">{contact.email}</span>
              </div>
            </a>

            <div class="contact-method">
              <div class="method-icon">
                <MapPin size={24} />
              </div>
              <div class="method-content">
                <span class="method-label">Visit Office</span>
                <span class="method-value">
                  {contact.address.line1}, {contact.address.line2}<br />
                  {contact.address.city}, {contact.address.state} - {
                    contact.address.pincode
                  }
                </span>
              </div>
            </div>
          </div>

          <!-- Office Hours -->
          <div class="office-hours">
            <div class="hours-header">
              <Clock size={20} />
              <h3>Office Hours</h3>
            </div>
            <ul class="hours-list">
              <li>{contact.hours.weekdays}</li>
              <li>{contact.hours.saturday}</li>
              <li>{contact.hours.sunday}</li>
            </ul>
          </div>
        </div>

        <!-- Contact Form -->
        <div class="contact-form-wrapper" data-animate="animate-slide-in-right">
          <div class="form-card">
            <h2 class="form-title">Send Us a Message</h2>
            <p class="form-subtitle">
              Fill out the form below and we'll get back to you within 24 hours.
            </p>

            <!-- Using Netlify Forms -->
            <!-- <form 
              name="contact" 
              method="POST" 
              data-netlify="true"
              netlify-honeypot="bot-field"
              action="/thank-you"
              class="contact-form"
            > -->
            <form method="POST" action="/api/contact" class="contact-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="name" class="form-label">Full Name *</label>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    class="form-input"
                    required
                    placeholder="Enter your name"
                  />
                </div>

                <div class="form-group">
                  <label for="phone" class="form-label">Phone Number *</label>
                  <input
                    type="tel"
                    id="phone"
                    name="phone"
                    class="form-input"
                    required
                    placeholder="+91 XXXXX XXXXX"
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="email" class="form-label">Email Address</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="form-input"
                  placeholder="your@email.com"
                />
              </div>

              <div class="form-group">
                <label for="case-type" class="form-label">Case Type *</label>
                <select
                  id="case-type"
                  name="case-type"
                  class="form-select"
                  required
                >
                  <option value="">Select case type</option>
                  {
                    caseTypes.map((type) => (
                      <option value={type}>{type}</option>
                    ))
                  }
                </select>
              </div>

              <div class="form-group">
                <label for="message" class="form-label"
                  >Brief Description *</label
                >
                <textarea
                  id="message"
                  name="message"
                  class="form-textarea"
                  required
                  placeholder="Briefly describe your legal matter..."
                  rows="4"></textarea>
              </div>

              <div class="form-consent">
                <input type="checkbox" id="consent" name="consent" required />
                <label for="consent">
                  I agree to the <a href="/privacy">Privacy Policy</a> and consent
                  to being contacted regarding my inquiry.
                </label>
              </div>

              <button type="submit" class="btn btn-primary btn-lg form-submit">
                <Send size={20} />
                Send Message
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Map Section -->
  <section class="map-section">
    <div class="map-container">
      <iframe
        src={contact.mapEmbed}
        width="100%"
        height="450"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
        title="Office Location"></iframe>
    </div>
  </section>
</Layout>

<style>
  /* Page Header */
  .page-header {
    background: linear-gradient(
      135deg,
      var(--color-primary-900) 0%,
      var(--color-primary-700) 100%
    );
    color: white;
    padding: 3rem 0 4rem;
    text-align: center;
  }

  .breadcrumb {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
    font-size: 0.875rem;
  }

  .breadcrumb a {
    color: rgba(255, 255, 255, 0.7);
  }

  .breadcrumb a:hover {
    color: var(--color-accent-500);
  }

  .breadcrumb span {
    color: rgba(255, 255, 255, 0.5);
  }

  .breadcrumb span:last-child {
    color: var(--color-accent-500);
  }

  .page-title {
    color: white;
    font-size: clamp(2rem, 5vw, 3rem);
    margin-bottom: 0.5rem;
  }

  .page-subtitle {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.9);
  }

  /* Contact Section */
  .contact-section {
    background: var(--color-neutral-50);
  }

  .contact-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }

  @media (min-width: 1024px) {
    .contact-grid {
      grid-template-columns: 1fr 1.2fr;
      gap: 4rem;
    }
  }

  .info-title {
    font-size: 1.75rem;
    margin-bottom: 1rem;
  }

  .info-description {
    color: var(--color-neutral-600);
    line-height: 1.7;
    margin-bottom: 2rem;
  }

  .contact-methods {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .contact-method {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.25rem;
    background: white;
    border-radius: 0.75rem;
    box-shadow: var(--shadow-sm);
    transition: all var(--transition-fast);
    text-decoration: none;
    color: inherit;
  }

  .contact-method:hover {
    box-shadow: var(--shadow-md);
    transform: translateX(4px);
  }

  .contact-method.whatsapp:hover {
    background: #25d366;
    color: white;
  }

  .contact-method.whatsapp:hover .method-icon {
    background: white;
    color: #25d366;
  }

  .method-icon {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primary-100);
    color: var(--color-primary-900);
    border-radius: 0.5rem;
    flex-shrink: 0;
    transition: all var(--transition-fast);
  }

  .method-label {
    display: block;
    font-size: 0.875rem;
    color: var(--color-neutral-500);
    margin-bottom: 0.25rem;
  }

  .contact-method.whatsapp:hover .method-label {
    color: rgba(255, 255, 255, 0.8);
  }

  .method-value {
    font-weight: 600;
    line-height: 1.4;
  }

  /* Office Hours */
  .office-hours {
    background: white;
    border-radius: 0.75rem;
    padding: 1.5rem;
    box-shadow: var(--shadow-sm);
  }

  .hours-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--color-accent-500);
  }

  .hours-header svg {
    color: var(--color-accent-500);
  }

  .hours-header h3 {
    font-size: 1.125rem;
    margin: 0;
  }

  .hours-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .hours-list li {
    padding: 0.5rem 0;
    color: var(--color-neutral-600);
    font-size: 0.9375rem;
    border-bottom: 1px solid var(--color-neutral-100);
  }

  .hours-list li:last-child {
    border-bottom: none;
  }

  /* Form */
  .form-card {
    background: white;
    border-radius: 1rem;
    padding: 2rem;
    box-shadow: var(--shadow-lg);
  }

  .form-title {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .form-subtitle {
    color: var(--color-neutral-500);
    margin-bottom: 2rem;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .form-row {
      grid-template-columns: 1fr 1fr;
    }
  }

  .hidden {
    display: none;
  }

  .form-consent {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
    font-size: 0.875rem;
    color: var(--color-neutral-600);
  }

  .form-consent input[type="checkbox"] {
    margin-top: 0.125rem;
    width: 18px;
    height: 18px;
    flex-shrink: 0;
  }

  .form-consent a {
    color: var(--color-primary-900);
    text-decoration: underline;
  }

  .form-submit {
    width: 100%;
  }

  /* Map */
  .map-section {
    background: var(--color-neutral-200);
  }

  .map-container iframe {
    display: block;
  }
</style>
